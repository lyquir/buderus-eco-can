# Buderus Logamatic ECO-CAN monitoring
Мониторинг Buderus Logamatic 4000 по ECO-CAN шине и интеграция с Home Assistant

Для интеграции с Logamatic мною используется плата "Waveshare ESP32-C3 Zero" и модуль CAN-шины MCP2515. Стоимость комплектующих ~ 10$.

Проект реализован в Arduino IDE. 
В PlatformIO + Visual Code добиться работоспособность не удалось — проект компилируется и заливается на МК, но в процессе работы вываливается какое-то невнятное исключение.

## Реализация
- интересующие показатели и способы их расшифровки описываются в коде константами типа `map`
- в `loop` cлушаем CAN-шину, расшифровываем сообщения и публикуем интересующие нас показатели через MQTT
- при первой публикации показателя автоматически добавляем объект в HA посредством MQTT (в данном примере не используется признак `retained` — после перезагрузки HA потребуется перезагрузить МК, чтобы объекты опять добавились)

## Описание формата ECO-CAN
Нормального описания не нашел, для разработки использовал следующие источники:
- https://github.com/flyingflo/logamatic
- https://github.com/flyingflo/heat_can
- документация от Buderus на немецком — "7747004149 – 01/2009 DE"
- если есть желание управлять, а не только мониторить — "7747004150 – 05/2009 DE"
